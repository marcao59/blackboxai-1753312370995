# Turismo Curitiba

## Vis√£o Geral

O **Turismo Curitiba** √© um aplicativo completo de turismo que oferece uma experi√™ncia integrada para descobrir os melhores pontos tur√≠sticos, eventos e atra√ß√µes da cidade de Curitiba. O projeto consiste em:

- **Aplicativo Mobile (Flutter)**: Dispon√≠vel para Android e iOS
- **Painel Administrativo Web (Node.js)**: Sistema de gerenciamento de conte√∫do
- **Backend Firebase**: Firestore para dados e Storage para imagens
- **Suporte Multil√≠ngue**: Portugu√™s, Ingl√™s e Espanhol

### Funcionalidades Principais

#### Para Usu√°rios (Mobile):
- üè† **Tela Home**: Categorias organizadas (Rotas Tur√≠sticas, Perto de Voc√™, O que Fazer, Onde Comer, Onde Dormir)
- üìç **Pontos Tur√≠sticos**: Listagem com filtros, imagens, descri√ß√µes multil√≠ngues e avalia√ß√µes
- üó∫Ô∏è **Integra√ß√£o com Mapas**: Google Maps para localiza√ß√£o e navega√ß√£o
- üìÖ **Eventos/Not√≠cias**: Se√ß√£o com destaques e eventos em destaque
- üë§ **Perfil do Usu√°rio**: Configura√ß√µes de idioma, favoritos e hist√≥rico de visitas
- üåê **GPS**: Localiza√ß√£o de pontos pr√≥ximos ao usu√°rio
- ‚≠ê **Sistema de Avalia√ß√£o**: Avalia√ß√µes de 1 a 5 estrelas
- üì± **Compartilhamento**: Integra√ß√£o com redes sociais

#### Para Administradores (Web):
- üîê **Sistema de Login**: Autentica√ß√£o segura com Firebase Auth
- üìä **Dashboard**: Vis√£o geral com estat√≠sticas e m√©tricas
- ‚úèÔ∏è **CRUD Completo**: Gerenciamento de pontos tur√≠sticos, eventos e restaurantes
- üì∏ **Upload de M√≠dia**: Sistema de upload para Firebase Storage
- üîç **Modera√ß√£o**: Sistema de modera√ß√£o de avalia√ß√µes dos usu√°rios
- üåç **Gest√£o Multil√≠ngue**: Interface para gerenciar conte√∫do em 3 idiomas

## Pr√©-requisitos

### Para Desenvolvimento Mobile (Flutter):
- Flutter SDK 3.0 ou superior
- Dart SDK 2.17 ou superior
- Android Studio / VS Code
- Android SDK (para Android)
- Xcode (para iOS - apenas macOS)

### Para Desenvolvimento Web (Node.js):
- Node.js 16.0 ou superior
- npm ou yarn
- Navegador web moderno

### Firebase:
- Conta Google/Firebase
- Projeto Firebase configurado
- Firestore Database habilitado
- Firebase Storage habilitado
- Firebase Authentication habilitado

## Configura√ß√£o do Projeto

### 1. Clone o Reposit√≥rio
```bash
git clone <repository-url>
cd TurismoCuritiba
```

### 2. Configura√ß√£o do Firebase

#### 2.1. Criar Projeto Firebase
1. Acesse [Firebase Console](https://console.firebase.google.com/)
2. Clique em "Criar projeto"
3. Siga as instru√ß√µes para criar o projeto

#### 2.2. Configurar Firestore
1. No console Firebase, v√° para "Firestore Database"
2. Clique em "Criar banco de dados"
3. Escolha o modo de produ√ß√£o
4. Selecione a localiza√ß√£o (preferencialmente us-central1)

#### 2.3. Configurar Storage
1. V√° para "Storage" no console Firebase
2. Clique em "Come√ßar"
3. Configure as regras de seguran√ßa

#### 2.4. Configurar Authentication
1. V√° para "Authentication" no console Firebase
2. Na aba "Sign-in method", habilite "An√¥nimo"

### 3. Configura√ß√£o do Aplicativo Mobile

#### 3.1. Instalar Depend√™ncias
```bash
cd mobile
flutter pub get
```

#### 3.2. Configurar Firebase para Flutter

**Para Android:**
1. No console Firebase, adicione um app Android
2. Use o package name: `com.turismocuritiba.app`
3. Baixe o arquivo `google-services.json`
4. Coloque o arquivo em `mobile/android/app/`

**Para iOS:**
1. No console Firebase, adicione um app iOS
2. Use o bundle ID: `com.turismocuritiba.app`
3. Baixe o arquivo `GoogleService-Info.plist`
4. Adicione o arquivo ao projeto iOS via Xcode

#### 3.3. Executar o Aplicativo
```bash
# Para Android
flutter run

# Para iOS (apenas macOS)
flutter run -d ios
```

### 4. Configura√ß√£o do Painel Administrativo

#### 4.1. Instalar Depend√™ncias
```bash
cd admin
npm install
```

#### 4.2. Configurar Vari√°veis de Ambiente
Crie um arquivo `.env` na pasta `admin`:
```env
NODE_ENV=development
PORT=3000
SESSION_SECRET=turismo_curitiba_admin_secret_key_2024
```

#### 4.3. Executar o Servidor
```bash
# Modo desenvolvimento
npm run dev

# Modo produ√ß√£o
npm start
```

#### 4.4. Acessar o Painel
Abra o navegador e acesse: `http://localhost:3000`

**Credenciais padr√£o:**
- Email: `admin@turismocuritiba.com`
- Senha: `admin123`

## Telas e Fluxos

### 1. Aplicativo Mobile

#### 1.1. Tela de Sele√ß√£o de Idioma
- **Funcionalidade**: Primeira tela do app para escolher idioma preferido
- **Idiomas**: Portugu√™s (Brasil), English (US), Espa√±ol (ES)
- **Fluxo**: Usu√°rio seleciona idioma ‚Üí Login an√¥nimo autom√°tico ‚Üí Redirecionamento para Home

#### 1.2. Tela Home
- **Layout**: Grid de categorias com √≠cones e t√≠tulos
- **Categorias**:
  - üõ£Ô∏è Rotas Tur√≠sticas
  - üìç Perto de Voc√™ (baseado em GPS)
  - üéØ O que Fazer
  - üçΩÔ∏è Onde Comer
  - üè® Onde Dormir
  - üìÖ Eventos
- **Funcionalidades**:
  - Barra de pesquisa no topo
  - Se√ß√£o "Perto de Voc√™" (requer permiss√£o de localiza√ß√£o)
  - Se√ß√£o "Destaques" com pontos tur√≠sticos em destaque
  - Navega√ß√£o para perfil do usu√°rio

#### 1.3. Tela de Detalhes do Ponto Tur√≠stico
- **Componentes**:
  - Carrossel de imagens com indicadores
  - T√≠tulo e endere√ßo
  - Sistema de avalia√ß√£o (estrelas + n√∫mero de avalia√ß√µes)
  - Descri√ß√£o completa
  - Informa√ß√µes de contato (telefone, website, hor√°rios)
  - Mapa integrado com marcador
  - Bot√µes de a√ß√£o: "Como Chegar", "Marcar como Visitado"
  - Bot√£o de favoritar e compartilhar
  - Se√ß√£o de avalia√ß√µes dos usu√°rios
- **Funcionalidades**:
  - Visualiza√ß√£o de imagens em tela cheia
  - Integra√ß√£o com Google Maps para navega√ß√£o
  - Sistema de avalia√ß√£o (1-5 estrelas + coment√°rio)
  - Compartilhamento em redes sociais

#### 1.4. Tela de Perfil do Usu√°rio
- **Se√ß√µes**:
  - Header com foto e informa√ß√µes do usu√°rio
  - Configura√ß√µes de idioma
  - Lista de favoritos
  - Hist√≥rico de visitas
  - Configura√ß√µes gerais
- **Funcionalidades**:
  - Edi√ß√£o de perfil (nome, foto)
  - Troca de idioma em tempo real
  - Visualiza√ß√£o e gerenciamento de favoritos
  - Hist√≥rico de locais visitados

#### 1.5. Tela de Eventos
- **Layout**: Lista de cards com abas (Destaques, Pr√≥ximos, Todos)
- **Informa√ß√µes por evento**:
  - Imagem de capa
  - T√≠tulo e descri√ß√£o
  - Data e hor√°rio
  - Local do evento
  - Status (Em andamento, Pr√≥ximo, Finalizado)
  - Badge de destaque (se aplic√°vel)
- **Funcionalidades**:
  - Filtros por categoria e status
  - Detalhes do evento em modal
  - Link para compra de ingressos (se dispon√≠vel)

### 2. Painel Administrativo Web

#### 2.1. Tela de Login
- **Layout**: Formul√°rio centralizado com branding
- **Campos**: Email e senha
- **Funcionalidades**:
  - Valida√ß√£o de credenciais
  - Mensagens de erro/sucesso
  - Credenciais de demonstra√ß√£o vis√≠veis

#### 2.2. Dashboard Principal
- **Componentes**:
  - Cards de estat√≠sticas (Pontos Tur√≠sticos, Eventos, Usu√°rios, Avalia√ß√µes)
  - Se√ß√£o de a√ß√µes r√°pidas
  - Feed de atividade recente
  - Informa√ß√µes do sistema
- **M√©tricas exibidas**:
  - Total de pontos tur√≠sticos ativos
  - Total de eventos
  - N√∫mero de usu√°rios registrados
  - Quantidade de avalia√ß√µes

#### 2.3. Gerenciamento de Pontos Tur√≠sticos
- **Lista de Pontos**:
  - Tabela com imagem, nome, categoria, endere√ßo e status
  - Filtros por categoria e status
  - Busca por nome/descri√ß√£o
  - Pagina√ß√£o
  - A√ß√µes: Editar, Excluir
- **Formul√°rio de Adi√ß√£o/Edi√ß√£o**:
  - Campos multil√≠ngues (PT, EN, ES)
  - Upload m√∫ltiplo de imagens
  - Coordenadas GPS (latitude/longitude)
  - Informa√ß√µes de contato
  - Hor√°rios de funcionamento
  - Categoria e status

#### 2.4. Gerenciamento de Eventos
- **Lista de Eventos**:
  - Tabela com imagem, t√≠tulo, datas, local e status
  - Filtros por categoria, status e per√≠odo
  - Badge para eventos em destaque
- **Formul√°rio de Evento**:
  - Campos multil√≠ngues
  - Datas de in√≠cio e fim
  - Localiza√ß√£o (endere√ßo + coordenadas)
  - Op√ß√£o "Evento Destaque"
  - URL para compra de ingressos
  - Upload de imagens

#### 2.5. Modera√ß√£o de Avalia√ß√µes
- **Funcionalidades**:
  - Lista de avalia√ß√µes pendentes
  - Visualiza√ß√£o de avalia√ß√£o + contexto do ponto tur√≠stico
  - A√ß√µes: Aprovar, Rejeitar, Editar
  - Filtros por status e pontua√ß√£o

#### 2.6. Gerenciamento de Usu√°rios
- **Informa√ß√µes exibidas**:
  - Lista de usu√°rios registrados
  - Estat√≠sticas de uso (favoritos, visitas)
  - Data de registro e √∫ltimo acesso
  - Status da conta

## Estrutura do Banco de Dados (Firestore)

### Cole√ß√µes Principais:

#### `pontos_turisticos`
```javascript
{
  id: "auto-generated",
  name: {
    pt: "Nome em Portugu√™s",
    en: "Name in English", 
    es: "Nombre en Espa√±ol"
  },
  description: {
    pt: "Descri√ß√£o em Portugu√™s",
    en: "Description in English",
    es: "Descripci√≥n en Espa√±ol"
  },
  address: {
    pt: "Endere√ßo em Portugu√™s",
    en: "Address in English",
    es: "Direcci√≥n en Espa√±ol"
  },
  latitude: -25.4284,
  longitude: -49.2733,
  category: "museu|parque|restaurante|hotel|atividade",
  imageUrls: ["url1", "url2", "url3"],
  rating: 4.5,
  reviewCount: 23,
  phone: "+55 41 1234-5678",
  website: "https://example.com",
  openingHours: {
    pt: "Seg-Sex: 9h-18h",
    en: "Mon-Fri: 9am-6pm",
    es: "Lun-Vie: 9h-18h"
  },
  isActive: true,
  createdAt: timestamp,
  updatedAt: timestamp,
  createdBy: "admin_id"
}
```

#### `eventos`
```javascript
{
  id: "auto-generated",
  title: {
    pt: "T√≠tulo em Portugu√™s",
    en: "Title in English",
    es: "T√≠tulo en Espa√±ol"
  },
  description: {
    pt: "Descri√ß√£o em Portugu√™s",
    en: "Description in English", 
    es: "Descripci√≥n en Espa√±ol"
  },
  startDate: timestamp,
  endDate: timestamp,
  location: "Local do evento",
  latitude: -25.4284,
  longitude: -49.2733,
  category: "musica|arte|gastronomia|festival",
  imageUrls: ["url1", "url2"],
  isFeatured: true,
  ticketUrl: "https://tickets.com",
  isActive: true,
  createdAt: timestamp,
  updatedAt: timestamp,
  createdBy: "admin_id"
}
```

#### `usuarios`
```javascript
{
  id: "firebase_auth_uid",
  email: "user@example.com",
  name: "Nome do Usu√°rio",
  photoUrl: "https://photo.url",
  preferredLanguage: "pt|en|es",
  favoritePoints: ["point_id1", "point_id2"],
  visitedPoints: ["point_id1", "point_id3"],
  createdAt: timestamp,
  updatedAt: timestamp
}
```

#### `avaliacoes`
```javascript
{
  id: "auto-generated",
  pointId: "tourist_point_id",
  userId: "user_id",
  rating: 5,
  comment: "Coment√°rio do usu√°rio",
  createdAt: timestamp,
  isApproved: true
}
```

## Como Adicionar Tradu√ß√µes

### 1. Estrutura de Tradu√ß√£o no Firestore

Todos os campos de texto que precisam de tradu√ß√£o seguem o padr√£o:
```javascript
{
  fieldName: {
    pt: "Texto em Portugu√™s",
    en: "Text in English", 
    es: "Texto en Espa√±ol"
  }
}
```

### 2. Adicionando Novas Tradu√ß√µes

#### No Aplicativo Mobile:
1. Localize o arquivo de idioma correspondente
2. Adicione as novas chaves de tradu√ß√£o
3. Use o `BlocBuilder<LanguageBloc>` para acessar o idioma atual
4. Implemente a l√≥gica de fallback (PT ‚Üí EN ‚Üí ES)

#### No Painel Administrativo:
1. Adicione campos para cada idioma no formul√°rio
2. Salve no formato de objeto multil√≠ngue
3. Implemente valida√ß√£o para pelo menos um idioma obrigat√≥rio

### 3. Exemplo de Implementa√ß√£o

```dart
// Flutter - Obtendo texto localizado
String getLocalizedText(Map<String, String> translations, String languageCode) {
  return translations[languageCode] ?? 
         translations['pt'] ?? 
         translations.values.first;
}

// Uso
final name = getLocalizedText(touristPoint.name, currentLanguageCode);
```

## Deploy

### 1. Deploy do Aplicativo Mobile

#### Android (Google Play Store):
```bash
# Gerar APK de release
flutter build apk --release

# Gerar App Bundle (recomendado)
flutter build appbundle --release
```

#### iOS (App Store):
```bash
# Gerar arquivo IPA
flutter build ios --release
```

**Passos adicionais:**
1. Configure as chaves de assinatura
2. Atualize as informa√ß√µes do app (nome, √≠cone, vers√£o)
3. Teste em dispositivos f√≠sicos
4. Siga as diretrizes das lojas (Google Play/App Store)

### 2. Deploy do Painel Administrativo

#### Op√ß√£o 1: Firebase Hosting
```bash
# Instalar Firebase CLI
npm install -g firebase-tools

# Login no Firebase
firebase login

# Inicializar projeto
firebase init hosting

# Deploy
firebase deploy --only hosting
```

#### Op√ß√£o 2: Heroku
```bash
# Instalar Heroku CLI
# Criar aplica√ß√£o
heroku create turismo-curitiba-admin

# Configurar vari√°veis de ambiente
heroku config:set NODE_ENV=production
heroku config:set SESSION_SECRET=your-secret-key

# Deploy
git push heroku main
```

#### Op√ß√£o 3: VPS/Cloud Server
1. Configure um servidor com Node.js
2. Use PM2 para gerenciamento de processos
3. Configure nginx como proxy reverso
4. Configure SSL com Let's Encrypt

### 3. Configura√ß√µes de Produ√ß√£o

#### Vari√°veis de Ambiente (Produ√ß√£o):
```env
NODE_ENV=production
PORT=3000
SESSION_SECRET=your-super-secret-key-here
FIREBASE_PROJECT_ID=your-project-id
```

#### Seguran√ßa Firebase:
1. Configure regras de seguran√ßa do Firestore
2. Configure regras de seguran√ßa do Storage
3. Restrinja chaves de API por dom√≠nio/app

## Estrutura de Arquivos

```
TurismoCuritiba/
‚îú‚îÄ‚îÄ mobile/                          # Aplicativo Flutter
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blocs/                   # Gerenciamento de estado (BLoC)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ language/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tourist_points/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                  # Modelos de dados
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tourist_point.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ event.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/              # Acesso aos dados
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ firebase_repository.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ screens/                 # Telas do aplicativo
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tourist_point_detail.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ events_screen.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.dart                 # Configura√ß√£o do app
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.dart                # Ponto de entrada
‚îÇ   ‚îú‚îÄ‚îÄ android/                     # Configura√ß√µes Android
‚îÇ   ‚îú‚îÄ‚îÄ ios/                         # Configura√ß√µes iOS
‚îÇ   ‚îî‚îÄ‚îÄ pubspec.yaml                 # Depend√™ncias Flutter
‚îú‚îÄ‚îÄ admin/                           # Painel administrativo Node.js
‚îÇ   ‚îú‚îÄ‚îÄ controllers/                 # L√≥gica de neg√≥cio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authController.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ contentController.js
‚îÇ   ‚îú‚îÄ‚îÄ routes/                      # Rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ content.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard.js
‚îÇ   ‚îú‚îÄ‚îÄ views/                       # Templates EJS
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/
‚îÇ   ‚îú‚îÄ‚îÄ public/                      # Arquivos est√°ticos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ firebase-config.js           # Configura√ß√£o Firebase
‚îÇ   ‚îú‚îÄ‚îÄ server.js                    # Servidor Express
‚îÇ   ‚îî‚îÄ‚îÄ package.json                 # Depend√™ncias Node.js
‚îî‚îÄ‚îÄ README.md                        # Este arquivo
```

## Tecnologias Utilizadas

### Mobile (Flutter):
- **Flutter SDK**: Framework de desenvolvimento
- **Dart**: Linguagem de programa√ß√£o
- **BLoC**: Gerenciamento de estado
- **Firebase Core**: Integra√ß√£o com Firebase
- **Cloud Firestore**: Banco de dados
- **Google Maps Flutter**: Integra√ß√£o com mapas
- **Geolocator**: Servi√ßos de localiza√ß√£o
- **URL Launcher**: Abertura de URLs externas
- **Share Plus**: Compartilhamento de conte√∫do
- **Cached Network Image**: Cache de imagens

### Web (Node.js):
- **Express.js**: Framework web
- **EJS**: Template engine
- **Firebase Admin**: SDK administrativo
- **Multer**: Upload de arquivos
- **BCrypt**: Hash de senhas
- **Express Session**: Gerenciamento de sess√µes
- **CORS**: Cross-Origin Resource Sharing

### Backend:
- **Firebase Firestore**: Banco de dados NoSQL
- **Firebase Storage**: Armazenamento de arquivos
- **Firebase Authentication**: Autentica√ß√£o de usu√°rios

## Contribui√ß√£o

### Como Contribuir:
1. Fa√ßa um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/nova-feature`)
3. Commit suas mudan√ßas (`git commit -am 'Adiciona nova feature'`)
4. Push para a branch (`git push origin feature/nova-feature`)
5. Abra um Pull Request

### Padr√µes de C√≥digo:
- **Flutter**: Siga as conven√ß√µes do Dart/Flutter
- **Node.js**: Use ESLint com configura√ß√£o padr√£o
- **Commits**: Use mensagens descritivas em portugu√™s
- **Documenta√ß√£o**: Mantenha o README atualizado

## Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

## Suporte

Para suporte t√©cnico ou d√∫vidas sobre o projeto:

- **Email**: suporte@turismocuritiba.com
- **Issues**: Use o sistema de issues do GitHub
- **Documenta√ß√£o**: Consulte este README e os coment√°rios no c√≥digo

## Changelog

### Vers√£o 1.0.0 (2024-01-XX)
- ‚úÖ Lan√ßamento inicial do aplicativo
- ‚úÖ Aplicativo mobile Flutter completo
- ‚úÖ Painel administrativo web
- ‚úÖ Integra√ß√£o com Firebase
- ‚úÖ Suporte a 3 idiomas
- ‚úÖ Sistema de avalia√ß√µes
- ‚úÖ Integra√ß√£o com Google Maps
- ‚úÖ Sistema de favoritos e hist√≥rico

---

**Desenvolvido com ‚ù§Ô∏è para promover o turismo em Curitiba**
